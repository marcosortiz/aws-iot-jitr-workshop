const shell = require('shelljs');

/**
 * Helper that will execute a `openssl` command
 * with the given `options` string.
 * @param {*} options the openssl command command line string.
 */
module.exports = (options) => {
  return new Promise((resolve, reject) => {
    shell.exec(`openssl ${options}`, {
      async: true,
      silent: true
    }, (code, stdout, stderr) => {
      code === 0 ? resolve({ code, stdout }) : reject({ code, stderr });
    });
  });
};